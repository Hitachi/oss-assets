# Mode: exchange incoming access token to downstream access token (RFC 8693)
mode = "access_token_exchanger"

# Audience that the downstream workload (Pod B) expects (e.g., Keycloak client_id of B)
downstream_audience = "spiffe://example.org/ns/default/sa/default/backend"

# Audience to mint the SPIFFE JWT-SVID used to authenticate against Keycloak
svid_audience_for_keycloak = "spiffe://example.org/ns/default/sa/default/frontend"

# Keycloak token endpoint (RFC 8693 + UMA decision)
keycloak_token_endpoint = "http://keycloak.example.com/realms/demo/protocol/openid-connect/token"

# SPIRE Workload API socket
workload_socket = "unix:///run/spire/sockets/agent.sock"

# gRPC listen address for Envoy ext_authz
listen = ":9011"
